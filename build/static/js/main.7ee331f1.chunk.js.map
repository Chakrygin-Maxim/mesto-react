{"version":3,"sources":["context/CurrentUserContext.js","utils/utils.js","utils/api.js","images/logo-header.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/ProtectedRoute.js","components/Authentication.js","components/Login.js","components/Register.js","components/InfoTooltip.js","images/tooltip-success.svg","components/SuccessTooltip.js","images/tooltip-error.svg","components/ErrorTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","url","api","this","_url","res","ok","json","Promise","reject","status","localStorage","getItem","fetch","headers","authorization","_handleGetToken","then","_handleResponse","name","about","method","body","JSON","stringify","link","cardId","avatar","isLiked","Accept","email","password","Header","props","pathname","useLocation","linkText","pathTo","className","href","src","logo","alt","loggedIn","userMail","onClick","onLogoutClick","to","Card","currentUser","useContext","isOwn","card","owner","_id","likes","some","i","onCardClick","onCardDelete","type","onCardLike","length","Main","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","cards","map","item","Footer","currentYear","Date","getFullYear","PopupWithForm","handleClose","event","key","onClose","useEffect","document","addEventListener","removeEventListener","isOpen","action","onSubmit","noValidate","title","children","buttonText","EditPofilePopup","useState","setName","description","setDescription","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","onChange","target","value","defaultValue","required","AddPlacePopup","cardNameRef","useRef","linkRef","inputValues","current","onAddPlace","ref","EditAvatarPopup","avatarRef","onUpdateAvatar","ImagePopup","ProtectedRoute","Component","component","Authentication","onSubmitButton","onEmailInput","onPasswordInput","btnText","subBtnText","linkRoute","Login","setEmail","setPassword","evt","Register","InfoTooltip","tooltipLogo","tooltipText","SuccessTooltip","ErrorTooltip","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isSuccessTooltipOpen","setIsSuccessTooltipOpen","isErrorTooltipOpen","setIsErrorTooltipOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","setLoggedIn","setUserMail","history","useHistory","setUserInfo","data","closeAllPopups","all","getUserInfo","getInitialCards","userData","initialCards","catch","err","console","log","jwt","checkToken","push","removeItem","statusText","handleCheckToken","Provider","exact","path","changeLikeCardStatus","newCard","newCards","c","deleteCard","currentCards","filter","mail","register","authorize","token","setItem","EditProfilePopup","updateUserInfo","addCard","cardName","slice","unshift","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7ee331f1.chunk.js","sourcesContent":["import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();\r\n","export const url = \"https://api.chakrygin.students.nomoreparties.space\";\r\n","import { url } from \"./utils\";\r\n\r\nclass Api {\r\n  constructor() {\r\n    this._url = url;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  _handleGetToken() {\r\n    return `Bearer ${localStorage.getItem(\"jwt\")}`;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: {\r\n        authorization: this._handleGetToken(),\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  updateUserInfo(name, about) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._handleGetToken(),\r\n        \"content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ name, about }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: {\r\n        authorization: this._handleGetToken(),\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._handleGetToken(),\r\n        \"content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ name, link }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._handleGetToken(),\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  updateAvatar(avatar) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._handleGetToken(),\r\n        \"content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ avatar }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\r\n      method: isLiked ? \"PUT\" : \"DELETE\",\r\n      headers: {\r\n        authorization: this._handleGetToken(),\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  checkToken() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: this._handleGetToken(),\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n  authorize(email, password) {\r\n    return fetch(`${this._url}/signin`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n    }).then(this._handleResponse);\r\n  }\r\n  register(email, password) {\r\n    return fetch(`${this._url}/signup`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n    }).then(this._handleResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api(url);\r\nexport default api;\r\n","export default __webpack_public_path__ + \"static/media/logo-header.c2821b38.svg\";","import logo from \"../images/logo-header.svg\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n  const { pathname } = useLocation();\r\n\r\n  const linkText = `${pathname === \"/signin\" ? \"Регистрация\" : \"Войти\"}`;\r\n  const pathTo = `${pathname === \"/signin\" ? \"/signup\" : \"/signin\"}`;\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <a\r\n        href=\"https://chakrygin-maxim.github.io/mesto-react/\"\r\n        className=\"header__link\"\r\n      >\r\n        <img src={logo} alt=\"Основное лого Mesto\" className=\"header__logo\" />\r\n      </a>\r\n      {props.loggedIn ? (\r\n        <div className=\"header__user-container\">\r\n          <p className=\"header__text\">{props.userMail}</p>\r\n          <button\r\n            className=\"header__text header__button\"\r\n            onClick={props.onLogoutClick}\r\n          >\r\n            Выйти\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <Link className=\"header__link header__text\" to={pathTo}>\r\n          {linkText}\r\n        </Link>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  function handleCardClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    props.onCardDelete(props.card._id);\r\n  }\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some((i) => i === currentUser._id);\r\n\r\n  return (\r\n    <article className=\"element\">\r\n      <img\r\n        className=\"element__photo\"\r\n        src={props.card.link}\r\n        alt={props.card.name}\r\n        onClick={handleCardClick}\r\n      />\r\n      <button\r\n        className={`element__button-trash ${isOwn && \"button-trash_visible\"}`}\r\n        onClick={handleCardDelete}\r\n      ></button>\r\n      <div className=\"element__info\">\r\n        <h2 className=\"element__info-name\">{props.card.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button\r\n            className={`element__button-like ${\r\n              isLiked && \"element__button-like_status_liked\"\r\n            }`}\r\n            type=\"button\"\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <p className=\"element__likes\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import { useContext } from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      {/* Рендер профиля пользователя */}\r\n      <section className=\"profile\">\r\n        <div className=\"profile__main-container\">\r\n          <div\r\n            className=\"profile__image-container\"\r\n            onClick={props.onEditAvatarClick}\r\n          >\r\n            <img\r\n              src={currentUser.avatar}\r\n              alt=\"Аватар\"\r\n              className=\"profile__image\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__name-container\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button\r\n                className=\"profile__button-edit\"\r\n                type=\"button\"\r\n                onClick={props.onEditProfileClick}\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__job\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"profile__button-add\"\r\n          type=\"button\"\r\n          onClick={props.onAddPlaceClick}\r\n        ></button>\r\n      </section>\r\n\r\n      {/* Рендер карточек */}\r\n      <main className=\"elements\">\r\n        {props.cards.map((item) => (\r\n          <Card\r\n            key={item._id}\r\n            card={item}\r\n            onCardClick={props.onCardClick}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n          ></Card>\r\n        ))}\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; {currentYear} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import { useEffect } from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  function handleClose(event) {\r\n    if (event.key === \"Escape\") {\r\n      props.onClose();\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleClose);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleClose);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <section\r\n      className={`popup popup_form_${props.name} ${\r\n        props.isOpen && \"popup_opened\"\r\n      }`}\r\n    >\r\n      <form\r\n        className=\"popup__form\"\r\n        action={`popup-${props.name}-submit`}\r\n        name={props.name}\r\n        onSubmit={props.onSubmit}\r\n        noValidate\r\n      >\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        {props.children}\r\n        <button type=\"submit\" className=\"popup__button\">\r\n          {props.buttonText}\r\n        </button>\r\n        <button\r\n          className=\"popup__button-close\"\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import { useState, useContext, useEffect } from \"react\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditPofilePopup(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  function handleInputNameOnChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleInputAboutOnChange(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_field_name\"\r\n        id=\"name-input\"\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        onChange={handleInputNameOnChange}\r\n        defaultValue={name}\r\n        required\r\n      />\r\n      <span className=\"popup__input-error\" id=\"name-input-error\"></span>\r\n      <input\r\n        name=\"about\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_field_job\"\r\n        id=\"job-input\"\r\n        placeholder=\"О себе\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        onChange={handleInputAboutOnChange}\r\n        defaultValue={description}\r\n        required\r\n      />\r\n      <span className=\"popup__input-error\" id=\"job-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditPofilePopup;\r\n","import { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const cardNameRef = useRef();\r\n  const linkRef = useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const inputValues = {\r\n      [cardNameRef.current.name]: cardNameRef.current.value,\r\n      [linkRef.current.name]: linkRef.current.value,\r\n    };\r\n\r\n    props.onAddPlace(inputValues);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"mesto\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      title=\"Новое место\"\r\n      buttonText=\"Создать\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"cardName\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_field_cardName\"\r\n        id=\"cardName-input\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        ref={cardNameRef}\r\n        required\r\n      />\r\n      <span className=\"popup__input-error\" id=\"cardName-input-error\"></span>\r\n      <input\r\n        name=\"link\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_field_link\"\r\n        id=\"link-input\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        ref={linkRef}\r\n        required\r\n      />\r\n      <span className=\"popup__input-error\" id=\"link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onUpdateAvatar(avatarRef.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"avatarLink\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_field_avatarLink\"\r\n        id=\"avatarLink-input\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        ref={avatarRef}\r\n        required\r\n      />\r\n      <span className=\"popup__input-error\" id=\"avatarLink-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_form_photo ${props.card.link && \"popup_opened\"}`}\r\n    >\r\n      <figure className=\"popup__image-container\">\r\n        <img\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className=\"popup__image\"\r\n        />\r\n        <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\r\n        <button\r\n          className=\"popup__button-close\"\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </figure>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nfunction Authentication(props) {\r\n  return (\r\n    <form className=\"authentication\" onSubmit={props.onSubmitButton}>\r\n      <h3 className=\"authentication__title\">{props.title}</h3>\r\n      <fieldset className=\"authentication__fieldset\">\r\n        <input\r\n          className=\"authentication__input\"\r\n          type=\"email\"\r\n          onChange={props.onEmailInput}\r\n          placeholder=\"Email\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n        />\r\n        <input\r\n          className=\"authentication__input\"\r\n          type=\"password\"\r\n          onChange={props.onPasswordInput}\r\n          placeholder=\"Пароль\"\r\n          minLength=\"8\"\r\n          maxLength=\"40\"\r\n          required\r\n        />\r\n      </fieldset>\r\n      <button className=\"authentication__submit\" type=\"submit\">\r\n        {props.btnText}\r\n      </button>\r\n      <div className=\"authentication__wrapper\">\r\n        <p className=\"authentication__text\">{props.subBtnText}</p>\r\n        <Link className=\"authentication__link\" to={props.linkRoute}>\r\n          {props.linkText}\r\n        </Link>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Authentication;\r\n","import { useState } from \"react\";\r\nimport Authentication from \"./Authentication\";\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  function handleEmailInput(evt) {\r\n    setEmail(evt.target.value);\r\n  }\r\n\r\n  function handlePasswordInput(evt) {\r\n    setPassword(evt.target.value);\r\n  }\r\n\r\n  function handleLoginSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onSubmitButton(email, password);\r\n  }\r\n\r\n  return (\r\n    <Authentication\r\n      onSubmitButton={handleLoginSubmit}\r\n      title={\"Вход\"}\r\n      onEmailInput={handleEmailInput}\r\n      onPasswordInput={handlePasswordInput}\r\n      btnText={\"Войти\"}\r\n      subBtnText={\"\"}\r\n      linkRoute={\"\"}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { useState } from \"react\";\r\nimport Authentication from \"./Authentication\";\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  function handleEmailInput(evt) {\r\n    setEmail(evt.target.value);\r\n  }\r\n\r\n  function handlePasswordInput(evt) {\r\n    setPassword(evt.target.value);\r\n  }\r\n\r\n  function handleRegisterSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onSubmitButton(email, password);\r\n  }\r\n\r\n  return (\r\n    <Authentication\r\n      onSubmitButton={handleRegisterSubmit}\r\n      title={\"Регистрация\"}\r\n      onEmailInput={handleEmailInput}\r\n      onPasswordInput={handlePasswordInput}\r\n      btnText={\"Зарегистрироваться\"}\r\n      subBtnText={\"Уже зарегистрированы?\"}\r\n      linkText={\"Войти\"}\r\n      linkRoute={\"/signin\"}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","function InfoTooltip(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen && \"popup_opened\"}`}>\r\n      <div className=\"popup__form\">\r\n        <img\r\n          className=\"popup__tooltip-logo\"\r\n          src={props.tooltipLogo}\r\n          alt={props.tooltipLogo}\r\n        />\r\n        <p className=\"popup__tooltip-text\">{props.tooltipText}</p>\r\n        <button\r\n          className=\"popup__button-close\"\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export default __webpack_public_path__ + \"static/media/tooltip-success.a9eb6caf.svg\";","import InfoTooltip from \"./InfoTooltip\";\r\nimport logo from \"../images/tooltip-success.svg\";\r\n\r\nfunction SuccessTooltip(props) {\r\n  return (\r\n    <InfoTooltip\r\n      isOpen={props.isOpen}\r\n      tooltipLogo={logo}\r\n      tooltipText={\"Вы успешно зарегистрировались!\"}\r\n      onClose={props.onClose}\r\n    />\r\n  );\r\n}\r\n\r\nexport default SuccessTooltip;\r\n","export default __webpack_public_path__ + \"static/media/tooltip-error.d4ce2a26.svg\";","import InfoTooltip from \"./InfoTooltip\";\r\nimport logo from \"../images/tooltip-error.svg\";\r\n\r\nfunction ErrorTooltip(props) {\r\n  return (\r\n    <InfoTooltip\r\n      isOpen={props.isOpen}\r\n      tooltipLogo={logo}\r\n      tooltipText={\"Что-то пошло не так! Попробуйте ещё раз.\"}\r\n      onClose={props.onClose}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ErrorTooltip;\r\n","import { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\nimport api from \"../utils/api.js\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport SuccessTooltip from \"./SuccessTooltip\";\r\nimport ErrorTooltip from \"./ErrorTooltip\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isSuccessTooltipOpen, setIsSuccessTooltipOpen] = useState(false);\r\n  const [isErrorTooltipOpen, setIsErrorTooltipOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({ link: \"\", name: \"\" });\r\n  const [cards, setCards] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState({\r\n    _id: \"\",\r\n    name: \"\",\r\n    about: \"\",\r\n    avatar: \"\",\r\n  });\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [userMail, setUserMail] = useState(\"\");\r\n\r\n  const history = useHistory();\r\n\r\n  // установка данных пользователя и начальные карточки при монтировании\r\n  useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n      .then(([userData, initialCards]) => {\r\n        setUserInfo(userData);\r\n        setCards(initialCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error ${err}`);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    handleCheckToken();\r\n  }, [history]);\r\n\r\n  function handleCheckToken() {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n\r\n    if (jwt) {\r\n      api\r\n        .checkToken(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            setUserMail(res.data.email);\r\n            setUserInfo(res.data);\r\n            setLoggedIn(true);\r\n            history.push(\"/\");\r\n          } else {\r\n            localStorage.removeItem(\"jwt\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setIsErrorTooltipOpen(true);\r\n          if (err.status === 400) {\r\n            console.log(\r\n              `Код ошибки: ${err.status}, Ошибка: Токен не передан или передан не в том формате`\r\n            );\r\n          } else if (err.status === 401) {\r\n            console.log(\r\n              `Код ошибки: ${err.status}, Ошибка: Переданный токен некорректен`\r\n            );\r\n          } else {\r\n            console.log(`Код ошибки: ${err.status}, Ошибка: ${err.statusText}`);\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  // установка данных пользователя\r\n  function setUserInfo(data) {\r\n    const { _id, name, about, avatar } = data;\r\n    setCurrentUser({ _id, name, about, avatar });\r\n  }\r\n\r\n  // открытие popup Аватара\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  // открытие popup Профиля пользователя\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n  // открытие popup Нового места\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  // открытие popup с местом\r\n  function handleCardClick(card) {\r\n    const { link, name } = card;\r\n    setSelectedCard({ link, name });\r\n  }\r\n\r\n  // обновление данных пользователя\r\n  function handleUpdateUser(data) {\r\n    return api\r\n      .updateUserInfo(data.name, data.about)\r\n      .then((userData) => {\r\n        setUserInfo(userData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error ${err}`);\r\n      });\r\n  }\r\n\r\n  // обновление аватара пользователя\r\n  function handleUpdateAvatar(avatar) {\r\n    return api\r\n      .updateAvatar(avatar)\r\n      .then((userData) => {\r\n        setUserInfo(userData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error ${err}`);\r\n      });\r\n  }\r\n\r\n  // добавление новой карточки\r\n  function handleAddPlaceSubmit(inputValues) {\r\n    return api\r\n      .addCard(inputValues.cardName, inputValues.link)\r\n      .then((data) => {\r\n        const newCards = cards.slice();\r\n        newCards.unshift(data);\r\n        setCards(newCards);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error ${err}`);\r\n      });\r\n  }\r\n\r\n  // установка-снятие лайка картинки\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error ${err}`);\r\n      });\r\n  }\r\n\r\n  // удаление карточки\r\n  function handleCardDelete(cardId) {\r\n    return api\r\n      .deleteCard(cardId)\r\n      .then((data) => {\r\n        const currentCards = cards.filter((item) => {\r\n          return item._id !== cardId;\r\n        });\r\n        setCards(currentCards);\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error ${err}`);\r\n      });\r\n  }\r\n\r\n  // логин сотрудника на сайте\r\n  function handleLoginSubmit(mail, password) {\r\n    return api\r\n      .authorize(mail, password)\r\n      .then((res) => {\r\n        if (res.token) {\r\n          localStorage.setItem(\"jwt\", res.token);\r\n          setUserMail(mail);\r\n          setLoggedIn(true);\r\n          history.push(\"/\");\r\n        } else {\r\n          setIsErrorTooltipOpen(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setIsErrorTooltipOpen(true);\r\n        if (err.status === 400) {\r\n          console.log(\r\n            `Код ошибки: ${err.status}, Ошибка: не передано одно из полей`\r\n          );\r\n        } else if (err.status === 401) {\r\n          console.log(\r\n            `Код ошибки: ${err.status}, Ошибка: пользователь с email не найден`\r\n          );\r\n        } else {\r\n          console.log(`Код ошибки: ${err.status}, Ошибка: ${err.statusText}`);\r\n        }\r\n      });\r\n    //\r\n  }\r\n\r\n  // регистрация пользователя на сайте\r\n  function handleRegisterSubmit(mail, password) {\r\n    api\r\n      .register(mail, password)\r\n      .then((res) => {\r\n        if (res.data) {\r\n          history.push(\"/signin\");\r\n          setIsSuccessTooltipOpen(true);\r\n        } else {\r\n          setIsErrorTooltipOpen(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setIsErrorTooltipOpen(true);\r\n        if (err.status === 400) {\r\n          console.log(\r\n            `Код ошибки: ${err.status}, Ошибка: не передано одно из полей`\r\n          );\r\n        } else {\r\n          console.log(`Код ошибки: ${err.status}, Ошибка: ${err.statusText}`);\r\n        }\r\n      });\r\n  }\r\n\r\n  // логаут с сайта\r\n  function handleLogout() {\r\n    setLoggedIn(false);\r\n    setUserMail(\"\");\r\n    localStorage.removeItem(\"jwt\");\r\n    history.push(\"/signin\");\r\n  }\r\n\r\n  // закрывает все popup\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setIsSuccessTooltipOpen(false);\r\n    setIsErrorTooltipOpen(false);\r\n    setSelectedCard({ link: \"\", name: \"\" });\r\n  }\r\n  return (\r\n    <>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header\r\n          loggedIn={loggedIn}\r\n          userMail={userMail}\r\n          onLogoutClick={handleLogout}\r\n        />\r\n        <Switch>\r\n          <ProtectedRoute\r\n            exact\r\n            path=\"/\"\r\n            component={Main}\r\n            loggedIn={loggedIn}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            onEditAvatarClick={handleEditAvatarClick}\r\n            onEditProfileClick={handleEditProfileClick}\r\n            onAddPlaceClick={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n          />\r\n\r\n          <Route path=\"/signup\">\r\n            <Register onSubmitButton={handleRegisterSubmit} />\r\n          </Route>\r\n\r\n          <Route path=\"/signin\">\r\n            <Login onSubmitButton={handleLoginSubmit} />\r\n          </Route>\r\n          <Route>\r\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\r\n          </Route>\r\n        </Switch>\r\n        <Footer />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        <SuccessTooltip\r\n          isOpen={isSuccessTooltipOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n        <ErrorTooltip isOpen={isErrorTooltipOpen} onClose={closeAllPopups} />\r\n      </CurrentUserContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}