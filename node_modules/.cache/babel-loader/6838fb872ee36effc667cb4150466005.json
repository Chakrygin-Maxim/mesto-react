{"ast":null,"code":"var BASE_URL=\"https://auth.nomoreparties.co\";function handleResponse(res){if(!res.ok){var status=res.status,statusText=res.statusText;return Promise.reject({status:status,statusText:statusText});}return res.json();}export var register=function register(email,password){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(handleResponse);};export var authorize=function authorize(email,password){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(handleResponse);};export var checkToken=function checkToken(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(handleResponse);};","map":{"version":3,"sources":["C:/Users/chakrygin/dev/mesto-react/src/utils/auth.js"],"names":["BASE_URL","handleResponse","res","ok","status","statusText","Promise","reject","json","register","email","password","fetch","method","headers","body","JSON","stringify","then","authorize","checkToken","token","Accept","Authorization"],"mappings":"AAAA,GAAMA,CAAAA,QAAQ,CAAG,+BAAjB,CAEA,QAASC,CAAAA,cAAT,CAAwBC,GAAxB,CAA6B,CAC3B,GAAI,CAACA,GAAG,CAACC,EAAT,CAAa,IACHC,CAAAA,MADG,CACoBF,GADpB,CACHE,MADG,CACKC,UADL,CACoBH,GADpB,CACKG,UADL,CAEX,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAe,CAAEH,MAAM,CAANA,MAAF,CAAUC,UAAU,CAAVA,UAAV,CAAf,CAAP,CACD,CACD,MAAOH,CAAAA,GAAG,CAACM,IAAJ,EAAP,CACD,CAED,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAQC,QAAR,CAAqB,CAC3C,MAAOC,CAAAA,KAAK,WAAIZ,QAAJ,YAAuB,CACjCa,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFwB,CAKjCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEP,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAf,CAL2B,CAAvB,CAAL,CAMJO,IANI,CAMCjB,cAND,CAAP,CAOD,CARM,CAUP,MAAO,IAAMkB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACT,KAAD,CAAQC,QAAR,CAAqB,CAC5C,MAAOC,CAAAA,KAAK,WAAIZ,QAAJ,YAAuB,CACjCa,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFwB,CAKjCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEP,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAf,CAL2B,CAAvB,CAAL,CAMJO,IANI,CAMCjB,cAND,CAAP,CAOD,CARM,CAUP,MAAO,IAAMmB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CACnC,MAAOT,CAAAA,KAAK,WAAIZ,QAAJ,cAAyB,CACnCa,MAAM,CAAE,KAD2B,CAEnCC,OAAO,CAAE,CACPQ,MAAM,CAAE,kBADD,CAEP,eAAgB,kBAFT,CAGPC,aAAa,kBAAYF,KAAZ,CAHN,CAF0B,CAAzB,CAAL,CAOJH,IAPI,CAOCjB,cAPD,CAAP,CAQD,CATM","sourcesContent":["const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nfunction handleResponse(res) {\r\n  if (!res.ok) {\r\n    const { status, statusText } = res;\r\n    return Promise.reject({ status, statusText });\r\n  }\r\n  return res.json();\r\n}\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(handleResponse);\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(handleResponse);\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(handleResponse);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}